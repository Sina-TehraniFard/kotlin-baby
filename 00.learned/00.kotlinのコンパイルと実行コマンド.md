## Kotlin コードをコンパイルして JAR を実行
```shell
kotlinc Hello.kt -include-runtime -d hello.jar
java -jar hello.jar
```


## Kotlin のコンパイルと実行で使うオプションの意味

### kotlinc コマンドの基本構造
`kotlinc` の基本的な使い方は次の形になります。

```shell
kotlinc [ソースファイル] [オプション]
```

例えば `kotlinc Hello.kt -include-runtime -d hello.jar` の場合、`Hello.kt` をコンパイルし、標準ライブラリを含めた JAR ファイル `hello.jar` を出力します。

### なぜ `javac` じゃないのか
`javac` は Java 専用のコンパイラで、Kotlin のコードは理解できない。  
Kotlin のコードをコンパイルするには Kotlin コンパイラである `kotlinc` を使う必要がある。

整理すると次のようになります。

- `javac` … Java ソースコードを JVM バイトコードに変換するコンパイラ
- `kotlinc` … Kotlin ソースコードを JVM バイトコードに変換するコンパイラ
- `java` … JVM を起動し、クラスファイルや JAR ファイルを実行するコマンド

この位置づけを理解しておくと、なぜ Kotlin のコードをコンパイルするのに `javac` ではなく `kotlinc` が必要なのかが明確になります。

---

### なぜ `-include-runtime` なのか
Kotlin は JVM 上で動く言語であり、コンパイルすると JVM バイトコードに変換されます。  
JVM 上で Kotlin のプログラムを動かすには、Kotlin が提供する **標準ライブラリ（kotlin-stdlib.jar）** が必ず必要になります。  
例えば `println()` ですら、Java の `System.out.println` を呼び出すためのラッパーが `kotlin-stdlib` に含まれています。

もし `-include-runtime` を付けずにコンパイルすると、この標準ライブラリが JAR に含まれないため、実行時には自分でクラスパスに追加指定しなければなりません。  
（例：`java -cp hello.jar:kotlin-stdlib.jar HelloKt`）

一方、`-include-runtime` を付けると、この標準ライブラリを JAR ファイルの中に一緒に詰め込むことができます。  
これにより生成される JAR は「自己完結型」となり、`java -jar hello.jar` だけでプログラムを実行できるようになります。

---

### なぜ `-d` があるのか
`-d` は「出力先を指定するオプション」です。  
ここにディレクトリ名を指定すると、そのフォルダの中にコンパイルした `.class` ファイルがまとめて出力されます。  
一方、`.jar` ファイル名を指定すると、コンパイル結果を JAR ファイルとしてひとつにまとめて出力します。  
つまり、`-d hello.jar` と書くと、コンパイルしたクラスファイルを `hello.jar` という名前の JAR ファイルにまとめて、現在のフォルダに作るという意味になります。

---

### なぜ最後に JAR ファイル名を書くのか
`-d` の後ろにファイル名を指定することで、その名前の JAR ファイルが生成される。  
ここでは `hello.jar` という名前で保存しているので、実行時も `java -jar hello.jar` で呼び出すことができる。